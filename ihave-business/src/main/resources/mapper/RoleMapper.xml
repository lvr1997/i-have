<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.lvr.ihave.business.mapper.RoleMapper">

    <resultMap type="com.lvr.ihave.pojo.Roles" id="SysRoleResult">
        <id     property="id"             column="id"               />
        <result property="roleId"           column="role_id"             />
        <result property="roleName"            column="role_name"              />
        <result property="commet"           column="commet"             />
        <result property="createDate"          column="create_date"            />
    </resultMap>

    <!-- 获取所有角色列表 -->
    <select id="selectAllRoles" resultMap="SysRoleResult">
        select id, role_id, role_name, commet, create_date 
        from roles 
        order by id
    </select>
   
    <!-- 根据ID获取角色 -->
    <select id="selectRoleById" parameterType="string" resultMap="SysRoleResult">
        select id, role_id, role_name, commet, create_date 
        from roles 
        where id = #{id}
    </select>

    <!-- 更新角色 -->
    <update id="updateRole" parameterType="com.lvr.ihave.pojo.Roles">
        update roles
        <set>
            <if test="roleName != null">role_name = #{roleName},</if>
            <if test="commet != null">commet = #{commet},</if>
        </set>
        where id = #{id}
    </update>

    <!-- 新增角色 -->
    <insert id="insertRole" parameterType="com.lvr.ihave.pojo.Roles">
        insert into roles (id, role_id, role_name, commet, create_date)
        values (#{id}, #{roleId}, #{roleName}, #{commet}, #{createDate})
    </insert>

     <!-- 删除角色 -->
    <delete id="deleteRole" parameterType="string">
        delete from roles where id = #{id}
    </delete>

</mapper>